ChangeLog
=========

Release: 1.3.2
===============================================================================
2022-05-14 Fixed sorting of subpages.
           Added some system buttons to upper and lower the volume TPanel uses.
           Fixed a bug in sort algorithm which ended in a crash of application.

2022-05-12 Made commands case insensitive.
           Added swipe support.
           If there is no toolbar the back button is now asking if the user
           want to see the setup dialog or quit the app.

2022-05-10 Fixed the orientation so that portrait and landscape is now
           correctly detected.
           Fixed the Z-order when a popup is raised to top.
           Fixed the Z-order for popups called from existing popups previously
           raised to top.
           Added recognition of sub parameters on command ^BMF.

2022-05-09 Added command ^BMF: Not all options are implemented!
           Fixed cuted off text lines containing a comma for command ^TXT.

2022-05-07 Added command ^VTP.

2022-05-05 Added command ^AFP rudimentary. The command is missing the
           animation effects.
           Added self feed commands.
           Added command send on button hit to controller.
           Fixed switching pages: The open popups are closed and buttons are
           removed from page. Then the new page is initialized.

2022-05-04 Fixed color search when a color was defined as an index number.
           Fixed page size setting and calculation of a potential hight
           oversize.
           Added the scPanel command to the button functions.
           Fixed the sToggle button command. Now it loads a page and shows it
           if it is not in the internal cache.

2022-05-02 Honors now the VOIP channel setting for SIP.
           Added the "User-Agent" header to the SIP client.
           Added a new command IM (instant message) to send instant messages
           over a SIP server.

2022-04-29 Fixed a crash on Android when a phone call was detected and the
           internal phone dialog is displayed.
           Fixed the bargraph to draw the second image if there is no first
           image.

2022-04-28 Added a system volume control and a system mute control.
           Completed the selection of system sound files, single beep and
           double beep files.

2022-04-26 Added a new tab to the settings to adjust sound related settings.
           Added ring tone support to the SIP client.
           Fixed calling a phone.
           Fixed SIP states send to controller and the internal SIP phone.

2022-04-24 Completed the internal phone dialog. If internal phone is enabled
           and if it's ringing the dialog box appears.

2022-04-23 Added a new phone dialog to have an integrated small phone.
           Added a new checkbox to settings to enable an automatic internal
           phone.

2022-04-22 Completed the SIP client handling calls, except DND setting.

Release: 1.3.1
===============================================================================
2022-04-21 Added a static color table which is used in case there is no palette
           file.
           Fixed a bug in reading the palette. Now the first color is also read.
           Fixed the FTP download on Android devices.

2022-04-15 Removed Linphone from Android and replaced it by PJSIP.

2022-04-07 Removed liblinphone completely because the java part necessary for
           Android had a lot of dependencies who couldn't be resolved. I added
           PJSIP instead.

2022-04-04 Fixed the detection of the client IP address. TPanel reports now the
           correct client IP address to the AMX controller.
           Added a serial number. It consists of a date and the version number.
           The serial number is visible on the command line of the controller
           with the command "show device".

2022-04-03 Added a few commands similar to the TPControl commands.

2022-04-02 Added functions to pause the orientation sensor if the program is
           inactive.
           Added functions to calculate the orientation of the screen.

2022-03-30 Added orientation sensor to turn from portrait to inverted portrait
           or from landscape to inverted landscape and back.

2022-03-26 Completed the PHN commands.

2022-03-25 Fixed the SIP client configuration.
           Added SIP configuration for network protocolls and to handle
           behavior behind a firewall.

2022-03-18 Added some not supported but possible commands to the table of known
           commands in tamxcommand.cpp.
           Improved the way commands are identified as such.

2022-03-16 Added linphone libraries to android build.
           Fixed the scaling for the download button in the settings dialog.
           Fixed a bug on a fresh installation when no controller was
           configured.

2022-03-10 Added support for more than 1 phone line.

2022-03-09 Added a new class to handle SIP commands and to abstract the
           linphone library.
           Started to add some ^PHN commands.

Release: 1.3.0
===============================================================================
2022-03-07 Changed the edit line "TP4 file name" into a comboBox and added
           a button to force the download of a surface file.
           The contents of the comboBox are feeded by a directory read on the
           controller. Each file with the extension "TP4" (case insensitive)
           is added as an item to the comboBox. The surface will now be
           downloaded when the selection in the comboBox changed  or the force
           button was clicked. The foce button gets a red background if the
           user wants to download the surface in any way. To be sure the user is
           asked whether the surface file should be downloaded or not.

           The second way to download a surface file is when the directory with
           the surface does not exist or contains the hidden file ".system".
           Then, if the configuration file was already configured, the surface
           is downloaded on startup of TPanel. When it finishes successfully
           the program comes up with the new surface.

2022-03-04 Fixed the look of the settings dialog on mobile devices.
           Added a feature to force the toolbar to be visible.

2022-03-02 Added a busy indicator which is shown when a file is downloaded.

2022-03-01 Changed the settings dialog. Added input lines for FTP and SIP.

2022-02-28 Adds a new FTP library to do FTP stuff and fixes the unpacking of
           the downloaded file.

2022-02-26 Fixes an accidentaly written warning on startup claiming the system
           directories are not found although the contrary was the case.
           Integrates the FTP transfer into initialisation.

2022-02-25 Corrects the startpage if the program is started for the first time
           and has no surface loaded.
           Cleans up the class TTPinit.

2022-02-22 Adds an FSF reader which contains an FTP client to search and read
           a TPDesign file directly from the controller.
           Sets the icon on a desktop.

Release: 1.2.1
===============================================================================
2022-02-18 Adding commands ^RSR, ^KPS, ^VKS

2022-02-17 Made all methods who need the "instance" (button state) as a
           parameter a full method instead of a 1 line method in only the
           header file.
           Added a general method to send custom events and replaced the
           repeating parts for sending custom events with a call to the new
           method.
           Adding commands ^BML, ^TEF, ?TEF, ?TXT

2022-02-16 Adding commands ?BWW, ?FON, ^GSC, ?ICO, ^JSB, ?JSB, ^JSI, ?JSI,
           ^JST, ?JST, ABEEP, ADBEEP, ^TEC, ?TEC

2022-02-15 Adding command ?BRD, ^BSM, ^BSO
           Fixes a bug where a crash could happen when a fading or moving out
           animation was running and an attempt to write an image to it was
           made. Writing an image to such a subpage is suppressed now.

2022-02-14 Adding command ^BMC, ?BOP, ^BOS

2022-02-13 Adding G5 commands ^ABP, ^ADB, ^SOU, ^STP, ^TKP, ^PGE, ^PPA, ^PPF,
           ^PPG, ^PPK, ^PPM, ^PPN, ^PPT, ^PPX, ^UTF
           Expanded the ^BMP command to be compatible with G5.
           Adding G4 commands ^UNI
           Adding configuration options for SIP to configuration file.

2022-02-09 Fixes the border drawing.
           Fixes the button hang if the mouse moves during a mouse press.

Release: 1.2.0
===============================================================================
2022-02-06 Fixes the drawing of a bargraph with a button slider.
           Add the documentation for end users.

2022-02-01 Adds a slider button out of the system slider images.

Release: 1.1.3
===============================================================================
2022-01-22 Adds a new callback function to set a button visible or to hide it.

Release: 1.1.2
===============================================================================
2022-01-21 Adds the commands ^RFR, ^RAF.
           Improved the command ^BBR to immediately refreshing the button.
           Fixes the remote loading of images over a REST interface.
           Implements an image cache to speed up remote loading.

Release: 1.1.1
===============================================================================
2022-01-18 Fixes a bug when retriving images from a HTTP server.

2022-01-13 Fixes the restart after changing connection credentials or receiving
           a new surface.

Release: 1.1.0
===============================================================================
2022-01-02 Removes the dependency to asio and implements a new socket class
           instead.

2021-10-17 Adds new commands @SOU, ?BMP, ?BCT, ?BCB and ?BCF.

Release: <= 1.0.0
===============================================================================
2021-07-21 Replaces the old XML parser for reading pages and subpages with
           Expat.

2021-07-14 Adds the class to read the system graphics index.

2021-07-13 Adds support for playing sounds.
           Adds button sounds if system ressources are installed.
           Adds support for system button to enable/disable button sounds.

2021-07-07 Adds support for symbol fonts like wingding.

2021-06-14 Adds the commands SETUP and SHUTDOWN.

2021-06-09 Adds all of the keyboard/keypad commands. Implements private
           keyboard/keypad.

2021-06-07 Adds a keyboard and a keypad. Adds also the aproppriate commands to
           use them.

2021-06-05 Adds an activity to get the phone state.
           Extracts the logging API in Java and puts it into an extra class.
           Implements a new queue to store all drawing events during the app is
           suspended.

2021-06-02 Fixes the range of buttons detected.
           Adds the commands BAU, BCF, BCT, BDO, BFB, BOR, BRD, GLH and GLL.

2021-05-28 Adds fade in/out to subpages.

2021-05-24 Fixes multiline printing: Breaks a string in pieces and makes it
           multiline, if the button allows it.
           Adds methods to grab a pinch event to start the settings.

2021-05-23 Adds/completes the timer function for a subpage.
           Adds optional text on the background image.
           Adds text as a background image.

2021-05-18 Adds a timeout function to subpages.

2021-05-10 Adds a basic function to draw and handle an input line.

2021-05-09 Implements the touch function to bargraphs.

2021-05-06 Adds a vritual page to show progress bars on file upload from
           TPDesign.
           Adds directory structure for system files. Reads system fonts if
           they exist.

2021-05-01 Sliding effects for subpages.

2021-04-29 Removes top bar on Android.
           Moved start point of page manager to signal active.
           Implents scaling at UI and disables scaling with Skia.

2021-04-24 Adds functions for getting the wifi connection strength in android.

2021-04-18 Reads external.xma to make the external buttons function.

2021-04-17 Finish and fixes scale mode.
           Removes menu and adds a toolbar on the right side instead.

2021-04-12 Implements scaling for background pages and subpages.
           Adds button management for pages.

2021-04-10 Implemets basic functions needed for scaling in future.
           Adds a splash screen on Android and brings a new logo.

2021-04-08 Adds battery state on Android devices.

2021-04-03 Implements basic settings dialog.

2021-03-14 Adds support for Android.

2021-01-09 Adds handling of system buttons connection status and date/time.

2021-01-01 Adds a Z-Order to subpages

2020-12-20 Adds network communication with controller and adds the first
           commands to control pages.

2020-12-17 Adds mouse press events. Fixes the position of text.

2020-12-16 Takes the overall opacity and sets it to the filling and chameleon
           images.

2020-12-13 Adds fonts with Skia library.

2020-12-10 Implements basic subpages and buttons.
           Draws the background and simple graphics.

2020-12-08 Display a background image in the main window.

2020-11-29 Added interpreter for buttons and pages.
